{% extends "blog/base.html" %}
{% block title %}{{ post.title }}{% endblock %}

{% block contents %}
<div class="py-5">
  <div class="container">
    <article class="mb-4">
      <h2>{{ post.title }}</h2>
      <p class="text-muted">
        {{ post.created_at|date:"Y-m-d H:i" }} / {{ post.author }}
      </p>
      <div>
        {{ post.body|linebreaks }}
      </div>
    </article>

    <hr>

    <h3 class="h5 mt-4">コメント</h3>
    <ul class="list-unstyled mb-4">
      {% for comment in comments %}
        <li class="mb-3">
          <strong>{{ comment.name }}</strong>
          <small class="text-muted">
            ({{ comment.created_at|date:"Y-m-d H:i" }})
          </small><br>
          {{ comment.body|linebreaks }}
        </li>
      {% empty %}
        <li>まだコメントがありません。</li>
      {% endfor %}
    </ul>

    <h3 class="h5">コメントを投稿する</h3>
    <form method="post" class="mt-2">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit" class="btn btn-primary">送信</button>
    </form>
  </div>
</div>
{% endblock %}
